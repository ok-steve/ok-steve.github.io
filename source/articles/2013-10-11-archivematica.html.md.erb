---
title: Archivematica
date: 2013-10-11
tags: tutorials
---

INTRO

- [TODO-makesure these directions are actuall right]
- using .10 beta
- assume you can use a Unix terminal and vim
- won't name every step (like logging in)

### Install on VirtualBox

Setting up the virtual appliance went mostly according to the [provided directions](https://www.archivematica.org/wiki/Virtual_appliance_instructions), but I had one hitch. In the the main VirtualBox preferences I had to set up a host network before I could add a host-only adapter in the Archivematica virtual machine preferences. [TODO-more detail]. Unfortunately that's where the installation instructions end, but I needed to do much more work to actually make a usable system.

### Configure networking

The first major problem I encountered was that Archivematica didn't actually connect to the network. To fix this I had to edit `/etc/network/interfaces` and change all instances of `eth0` to `eth2` and `eth1` to `eth3`.

This should make your IP address to 196.168.56.104, but you might need to change that last number. You can type `ifconfig` to check the IP address (and the eth2/eth3).

### Install guest additions

The next problem was that Archivematica only had access to its own file system, which is fine for running a demo, but completely useless for doing actual work. To solve this I made use of VirtualBox's Guest Additions, which---among other features--allows a virtual machine to access the host's file system.

First select "Install Guest Additions" from the Devices menu of the virtual machine. Next run the command `find "VBox*"` to find the location where the ISO is installed because it won't be in the usual `/media` folder---mine was in `/usr/share/virtualbox`.

Once you've located the iso file you'll need to mount it---`mount -o loop NAMEOFFILE.iso /media/cdrom`. [TODO-created a folder under `/media`]. Then `cd` to that folder and run the installation script `sudo sh VBoxLinuxAdditions.run`.

`sudo usermod -aG vboxsf demo`

Restart the VM.

Devices > Shared Folders

Select the folder you want to use for digital objects. Name the folder SHAREDFOLDERNAME and make it permanent.

`sudo vim /etc/rc.local` and add the lines

Create folders under /home/demo (Transform) and /var (Archive)

`mount -t vboxsf SHAREDFOLDERNAME FOLDERLOCATION` in /etc/rc.local