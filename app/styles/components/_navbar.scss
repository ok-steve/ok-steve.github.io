// Variables

$navbar: (
  height:                       50px,
  margin-bottom:                $line-height-computed,
  padding-horizontal:           floor(($grid-gutter-width / 2)),
  padding-vertical:             ((50px - $line-height-computed) / 2),
  collapse-max-height:          340px,
  inverse-bg:                   $brand-primary,
  inverse-border:               darken($brand-primary, 10%),
  inverse-link-color:           #fff,
  inverse-link-hover-color:     #fff,
  inverse-link-hover-bg:        darken($brand-primary, 10%),
  inverse-brand-color:          #fff,
  inverse-brand-hover-color:    #fff,
  inverse-toggle-icon-bar-bg:   #fff
);

// Mixins

@mixin navbar-vertical-align($element-height) {
  margin-top: ((map-get($navbar, height) - $element-height) / 2);
  margin-bottom: ((map-get($navbar, height) - $element-height) / 2);
}


// Styles

.Navbar {
  position: relative;

  min-height: map-get($navbar, height);
  margin-bottom: map-get($navbar, margin-bottom);

  border: 1px solid transparent;

  @include clearfix;
}

.Navbar-header {
  @include clearfix;

  @media (min-width: $grid-float-breakpoint) {
    float: left;
  }
}

.Navbar-collapse {
  overflow-x: visible;

  padding-right: map-get($navbar, padding-horizontal);
  padding-left: map-get($navbar, padding-horizontal);

  border-top: 1px solid transparent;
  box-shadow: inset 0 1px 0 rgba(#fff,.1);

  @include clearfix;
  -webkit-overflow-scrolling: touch;

  &.is-expanded {
    overflow-y: auto;
  }

  @media (min-width: $grid-float-breakpoint) {
    width: auto;

    border-top: 0;
    box-shadow: none;

    &.Collapse {
      display: block !important;
      visibility: visible !important;
      overflow: visible !important;

      height: auto !important;
      padding-bottom: 0;
    }

    &.is-expanded {
      overflow-y: visible;
    }

    .Navbar--fixedTop & {
      padding-right: 0;
      padding-left: 0;
    }
  }
}

.Navbar--fixedTop {
  .Navbar-collapse {
    max-height: map-get($navbar, collapse-max-height);

    @media (max-device-width: $screen-xs-min) and (orientation: landscape) {
      max-height: 200px;
    }
  }
}

.Container,
.Container--fluid {
  > .Navbar-header, > .Navbar-collapse {
    margin-right: - map-get($navbar, padding-horizontal);
    margin-left: - map-get($navbar, padding-horizontal);

    @media (min-width: $grid-float-breakpoint) {
      margin-right: 0;
      margin-left: 0;
    }
  }
}

.Navbar--fixedTop {
  position: fixed;
  z-index: $zindex-navbar-fixed;
  right: 0;
  left: 0;
}

.Navbar--fixedTop {
  top: 0;

  border-width: 0 0 1px;
}

.Navbar-brand {
  font-size: $font-size-large;
  line-height: $line-height-computed;

  float: left;

  height: map-get($navbar, height);
  padding: map-get($navbar, padding-vertical) map-get($navbar, padding-horizontal);

  &:hover,
  &:focus {
    text-decoration: none;
  }

  @media (min-width: $grid-float-breakpoint) {
    .Navbar > .Container &,
    .Navbar > .Container--fluid & {
      margin-left: - map-get($navbar, padding-horizontal);
    }
  }
}

.Navbar-toggle {
  position: relative;

  float: right;

  margin-right: map-get($navbar, padding-horizontal);
  padding: 9px 10px;

  border: 1px solid transparent;
  background-color: transparent;
  background-image: none;

  @include navbar-vertical-align(34px);

  &:focus {
    outline: 0;
  }

  .Navbar-iconBar {
    display: block;

    width: 22px;
    height: 2px;

    border-radius: 1px;
  }

  .Navbar-iconBar + .Navbar-iconBar {
    margin-top: 4px;
  }

  @media (min-width: $grid-float-breakpoint) {
    display: none;
  }
}

.Navbar-nav {
  margin: (map-get($navbar, padding-vertical) / 2) (- map-get($navbar, padding-horizontal));

  > li > a {
    line-height: $line-height-computed;

    padding-top: 10px;
    padding-bottom: 10px;
  }

  @media (min-width: $grid-float-breakpoint) {
    float: left;

    margin: 0;

    > li {
      float: left;

      > a {
        padding-top: map-get($navbar, padding-vertical);
        padding-bottom: map-get($navbar, padding-vertical);
      }
    }
  }
}

@media (min-width: $grid-float-breakpoint) {
  .Navbar-right {
    float: right !important;

    margin-right: - map-get($navbar, padding-horizontal);
  }
}

.Navbar--inverse {
  border-color: map-get($navbar, inverse-border);
  background-color: map-get($navbar, inverse-bg);

  .Navbar-brand {
    color: map-get($navbar, inverse-brand-color);

    &:hover,
    &:focus {
      color: map-get($navbar, inverse-brand-hover-color);
      background-color: map-get($navbar, inverse-brand-hover-bg);
    }
  }

  .Navbar-nav {
    > li > a {
      color: map-get($navbar, inverse-link-color);

      &:hover,
      &:focus {
        color: map-get($navbar, inverse-link-hover-color);
        background-color: map-get($navbar, inverse-link-hover-bg);
      }
    }
  }

  .Navbar-toggle {
    border-color: map-get($navbar, inverse-toggle-border-color);

    &:hover,
    &:focus {
      background-color: map-get($navbar, inverse-toggle-hover-bg);
    }

    .Navbar-iconBar {
      background-color: map-get($navbar, inverse-toggle-icon-bar-bg);
    }
  }

  .Navbar-collapse {
    border-color: darken(map-get($navbar, inverse-bg), 7%);
  }
}
